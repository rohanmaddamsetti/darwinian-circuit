#!/usr/bin/env bash

## assemble-nine-day-GFP-barcode-expt-genomes.sh by Rohan Maddamsetti.
## This shell script does a bunch of genome assembly tasks using breseq and gdtools.
## COMMENT OUT all tasks that don't need to be done.

## IMPORTANT NOTE: Currently, I have sequenced the evolved clones, but not their direct ancestors.
## For now, I just assemble the evolved clones.

#########################################################################
## Assemble genomes using the K12-MG1655-NC_000913.gb reference genome.
## I will have to subtract out common mutations, inferred to be in the LCA genome.
#####
## Assemble K12 + B31 no plasmid clones 1-10, using K-12 as reference.
#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-31 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S17_S17_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S17_S17_L001_R2_001.fastq.gz"

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-32 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S18_S18_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S18_S18_L001_R2_001.fastq.gz"

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-33 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S19_S19_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S19_S19_L001_R2_001.fastq.gz"

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-34 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S20_S20_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S20_S20_L001_R2_001.fastq.gz"

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-35 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S21_S21_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S21_S21_L001_R2_001.fastq.gz"

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-36 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S22_S22_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S22_S22_L001_R2_001.fastq.gz"

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-37 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S23_S23_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S23_S23_L001_R2_001.fastq.gz"

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-38 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S24_S24_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S24_S24_L001_R2_001.fastq.gz"

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-39 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S25_S25_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S25_S25_L001_R2_001.fastq.gz"

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-40 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S26_S26_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S26_S26_L001_R2_001.fastq.gz"

## Assemble K12 + B31 + p15A clones 1-6, using K-12 as reference.
##These were included in run 8336 for the Duke Sequencing Voucher.

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-41 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb -r ../data/genome-sequencing/reference-genome/A31-p15A.gb ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S27_S27_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S27_S27_L001_R2_001.fastq.gz"

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-42 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb -r ../data/genome-sequencing/reference-genome/A31-p15A.gb ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S28_S28_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S28_S28_L001_R2_001.fastq.gz"

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-43 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb -r ../data/genome-sequencing/reference-genome/A31-p15A.gb ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S29_S29_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S29_S29_L001_R2_001.fastq.gz"

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-44 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb -r ../data/genome-sequencing/reference-genome/A31-p15A.gb ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S30_S30_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S30_S30_L001_R2_001.fastq.gz"

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-45 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb -r ../data/genome-sequencing/reference-genome/A31-p15A.gb ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S31_S31_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S31_S31_L001_R2_001.fastq.gz"

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-46 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb -r ../data/genome-sequencing/reference-genome/A31-p15A.gb ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S32_S32_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8336_tetA-GFP-barcode-clones/8336-S32_S32_L001_R2_001.fastq.gz"

## Assemble K12 + B31 + p15A clones 7-10, using K-12 as reference.
## These were included in run 8337 for the Duke Sequencing Voucher.

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-47 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb -r ../data/genome-sequencing/reference-genome/A31-p15A.gb ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S115_S115_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S115_S115_L001_R2_001.fastq.gz"

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-48 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb -r ../data/genome-sequencing/reference-genome/A31-p15A.gb ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S116_S116_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S116_S116_L001_R2_001.fastq.gz"

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-49 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb -r ../data/genome-sequencing/reference-genome/A31-p15A.gb ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S117_S117_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S117_S117_L001_R2_001.fastq.gz"

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-50 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb -r ../data/genome-sequencing/reference-genome/A31-p15A.gb ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S118_S118_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S118_S118_L001_R2_001.fastq.gz"

## Assemble K12 + B31 + pUC clones using K-12 as reference.
## These were included in run 8337 for the Duke Sequencing Voucher.

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-51 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb -r ../data/genome-sequencing/reference-genome/A18-pUC.gb ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S119_S119_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S119_S119_L001_R2_001.fastq.gz"

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-52 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb -r ../data/genome-sequencing/reference-genome/A18-pUC.gb ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S120_S120_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S120_S120_L001_R2_001.fastq.gz"

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-53 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb -r ../data/genome-sequencing/reference-genome/A18-pUC.gb ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S121_S121_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S121_S121_L001_R2_001.fastq.gz"

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-54 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb -r ../data/genome-sequencing/reference-genome/A18-pUC.gb ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S122_S122_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S122_S122_L001_R2_001.fastq.gz"

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-55 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb -r ../data/genome-sequencing/reference-genome/A18-pUC.gb ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S123_S123_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S123_S123_L001_R2_001.fastq.gz"

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-56 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb -r ../data/genome-sequencing/reference-genome/A18-pUC.gb ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S124_S124_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S124_S124_L001_R2_001.fastq.gz"

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-57 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb -r ../data/genome-sequencing/reference-genome/A18-pUC.gb ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S125_S125_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S125_S125_L001_R2_001.fastq.gz"

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-58 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb -r ../data/genome-sequencing/reference-genome/A18-pUC.gb ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S126_S126_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S126_S126_L001_R2_001.fastq.gz"

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-59 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb -r ../data/genome-sequencing/reference-genome/A18-pUC.gb ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S127_S127_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S127_S127_L001_R2_001.fastq.gz"

#sbatch -p scavenger --mem=8G -c 8 --wrap="breseq -j 8 -o ../results/nine-day-GFP-barcode-expt-genome-analysis/RM7-140-60 -r ../data/genome-sequencing/reference-genome/K12-MG1655-NC_000913.gb -r ../data/genome-sequencing/reference-genome/B31-N20-miniTn5-TetA-GFP-barcode.gb -r ../data/genome-sequencing/reference-genome/A18-pUC.gb ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S128_S128_L001_R1_001.fastq.gz ../data/genome-sequencing/Maddamsetti_8337_tetA-GFP-barcode-clones/8337-S128_S128_L001_R2_001.fastq.gz"
